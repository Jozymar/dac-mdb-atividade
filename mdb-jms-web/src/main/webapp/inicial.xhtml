<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <!--Import Google Icon Font-->
        <link type="text/css" rel="stylesheet" href="css/material-icons.css"/>
        <!--Import materialize.css-->
        <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen"/>

        <!--Import style-custom.css-->
        <link type="text/css" rel="stylesheet" href="css/style-custom.css"/>

        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

        <title>Carrinho</title>
    </h:head>
    <h:body>

        <div class="navbar-fixed">
            <nav class="blue-grey">
                <div class="nav-wrapper">
                    <a href="inicial.xhtml" class="brand-logo"><img src="imagens/icone.png" width="8%" alt="logo" class="circle"/></a>
                    <ul class="right hide-on-med-and-down">
                        <h:form>
                            <li><a><i class="material-icons left">person</i>#{controladorCliente.getNomeSession()}</a></li>
                            <li><a jsf:action="#{controladorCliente.realizarLogout()}"><i class="material-icons right">input</i>Logout</a></li>
                        </h:form>
                    </ul>
                </div>
            </nav>
        </div>

        <div class="container">
            <div class="col s12" align="center" style="margin-top: 5%">
                <h5>Produtos</h5>
            </div>

            <h:dataTable value="#{controladorDeProduto.todosOsProdutos()}" var="produto" style="margin-bottom: 5%">
                <h:column>
                    <f:facet name="header">Código</f:facet>
                    <h:outputText value="#{produto.id}" />
                </h:column>
                <h:column>
                    <f:facet name="header">Descrição</f:facet>
                    <h:outputText value="#{produto.descricao}" />
                </h:column>
                <h:column>
                    <f:facet name="header">Preço</f:facet>
                    <h:outputText value="#{produto.preco}" />
                </h:column>
                <h:column>
                    <f:facet name="header">Compre</f:facet>
                    <h:form>
                        <h:commandButton value="Comprar" class="waves-effect waves-light btn" action="#{controladorCarrinho.adicionarProduto(produto)}"/>
                    </h:form>
                </h:column>
            </h:dataTable>

            <div class="col s12" align="center">
                <h5>Meu Carrinho</h5>
            </div>

            <h:dataTable value="#{controladorCarrinho.todosOsProdutos()}" var="produtoCarrinho" style="margin-bottom: 5%">
                <h:column>
                    <f:facet name="header">Código</f:facet>
                    <h:outputText value="#{produtoCarrinho.id}" />
                </h:column>
                <h:column>
                    <f:facet name="header">Descrição</f:facet>
                    <h:outputText value="#{produtoCarrinho.descricao}" />
                </h:column>
                <h:column>
                    <f:facet name="header">Preço</f:facet>
                    <h:outputText value="#{produtoCarrinho.preco}" />
                </h:column>
                <h:column>
                    <f:facet name="header">Remover</f:facet>
                    <h:form>
                        <h:commandButton value="Remover" class="waves-effect waves-light btn" action="#{controladorCarrinho.removerProduto(produtoCarrinho)}"/>
                    </h:form>
                </h:column>     
            </h:dataTable>
            <div class="input-field" align="center" style="margin-bottom: 5%">
                <h:form>
                    <h:commandButton value="Finalizar" class="waves-effect waves-light btn" action="#{controladorCarrinho.finalizarCompra()}"/>
                </h:form>
            </div>
        </div>

    </h:body>
</html>

